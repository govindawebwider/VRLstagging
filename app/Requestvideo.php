<?php/** * @package app\Requestvideo * * @class Requestvideo * * @author Azim Khan <azim@surmountsoft.in> * * @copyright 2018 SurmountSoft Pvt. Ltd. All rights reserved. */namespace App;use Illuminate\Support\Facades\Validator;use Illuminate\Database\Eloquent\Model;class Requestvideo extends Model{    protected $table = 'requestvideos';    protected $primaryKey = 'VideoReqId';    /**     * The attributes that are mass assignable.     *     * @var array     */    protected $fillable = [        'Name', 'sender_email', 'phone_no', 'Description', 'RequestStatus', 'is_hidden', 'recipient_name',        'recipient_zip', 'delivery_date', 'requestToProfileId', 'requestByProfileId', 'request_date',        'sender_voice_pronunciation', 'receipient_voice_pronunciation', 'recipient_record', 'sender_record',        'device_type', 'is_delete', 'complitionDate', 'ReqVideoPrice', 'VideoUploadDate', 'Title', 'requestor_email',        'paid', 'is_refunded', 'is_active', 'song_name', 'receipient_pronunciation', 'sender_name',        'sender_name_pronunciation', 'VideoId', 'DateInterval', 'recipient_name_pronunciation', 'recipient_email',    ];    /**     * @return \Illuminate\Database\Eloquent\Relations\HasOne     */    public function user()    {        return $this->hasOne('App\User', 'user_id', 'requestByProfileId');    }    /**     * @return \Illuminate\Database\Eloquent\Relations\HasOne     */    public function requestToProfile()    {        return $this->hasOne('App\Profile', 'ProfileId', 'requestToProfileId');    }    /**     * @return \Illuminate\Database\Eloquent\Relations\HasOne     */    public function requestToUser()    {        return $this->hasOne('App\User', 'user_id', 'requestToProfileId');    }    /**     * @return \Illuminate\Database\Eloquent\Relations\HasOne     */    public function requestByProfile()    {        return $this->hasOne('App\Profile', 'ProfileId', 'requestByProfileId');    }    /**     * @return \Illuminate\Database\Eloquent\Relations\HasOne     */    public function requestByUser()    {        return $this->hasOne('App\User', 'user_id', 'requestByProfileId');    }    /**     * @return \Illuminate\Database\Eloquent\Relations\HasOne     */    public function requestedVideo()    {        return $this->hasOne('App\RequestedVideo', 'request_id', 'VideoReqId');    }    /**     * @return \Illuminate\Database\Eloquent\Relations\HasOne     */    public function videoReviewedByUser()    {        return $this->hasOne('App\Testimonial', 'by_profile_id', 'requestByProfileId')            ->where('AdminApproval', 1);    }    /**     * validates the array.     *     * @param  array $data     * @return array     */    public function validator($data)    {        return Validator::make($data, [            'full_name' => 'required',            'email' => 'required|email|unique:users,email',            'password' => 'required',            'phone_no' => 'required',            'gender' => 'required',            'date_of_birth' => 'required',            'country' => 'required',        ]);    }}